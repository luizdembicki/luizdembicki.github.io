<!DOCTYPE HTML>
<!--
	Strata by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="en">
	<head>
		<title>Luiz Dembicki's homepage</title>
		<script charset="utf-8" src="node_modules/neutriumjs.thermo.iapws97/dist/neutriumJS.thermo.IAPWS97.min.js"></script>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
		<script src="/Thermo/thermo.js"></script>
		<script src="/Thermo/waterPxT.js"></script>
		<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="style/style.css" />
	</head>
	<body class="about-body">

		<!-- Main -->
			<div class="main">
				<!-- One -->
        <h1>Pressure-Temperature Diagram</h1>
        <p>Pressure-temperature diagrams are very helpful when it comes to determining what is the present phase in a system, specially to chemistry where we tend to work with constant volume.</p>
        <p>This diagram was made using two resources: <a href="https://doi.org/10.1115/1.483186">Industrial Formulation 1997 for the Thermodynamic Properties of Water and Steam</a> The IAPWS, and <a href="https://doi.org/10.1063/1.3657937">New Equations for the Sublimation Pressure and Melting Pressure of H2O Ice Ih</a>. The equations programmed in Javascript and plotted using the Plotly library.</p>
        <div id="PTDiagram">
        
        <script>
          const P_MIN = 1;     // Pa
          const P_MAX = 1e3 * 1e6;   // Pa , 1 GPa
          const T_MIN = 200;      // K
          const T_MAX = 1000;     // K

          // Vapour boundary 623.15K @ P=16.5292 MPa < T < 863.15K @ 100MPa https://doi.org/10.1115/1.483186
          
          const vapourBoundaryTemps = Array.from({ length: 1000 }, (_, i) =>
           273.15 + i * (863.15 - 273.15) / (1000 - 1));

          var vapourBoundaryLine = {
            x: vapourBoundaryTemps,
            y: vapourBoundaryTemps.map((x) => vapourBoundary(x) / 1e6 ), // Convert Pa to MPa
            type: 'scatter',
            name: 'Liquid-Vapour Boundary',
            "fill":"tozeroy",
            "fillcolor":"rgba(255, 0, 0, 0.2)" 
          };

          const sublimationBoundaryTemps = Array.from({ length: 1000 }, (_, i) =>
           200 + i * (273.15 - 200) / (1000 - 1));

          var sublimationBoundaryLine = {
            x: sublimationBoundaryTemps,
            y: sublimationBoundaryTemps.map((x) => sublimationBoundary(x) / 1e6 ), // Convert Pa to MPa
            type: 'scatter',
            name: 'Solid-Vapour Boundary',
            "fill":"tozeroy",
            "fillcolor":"rgba(255, 0, 0, 0.2)"
          };

          const iceBoundaryTemps = Array.from({ length: 1e3 }, (_, i) =>
           200 + i * (273.16 - 200) / (1e3 - 1));

          var iceBoundaryLine = {
            x: iceBoundaryTemps,
            y:  iceBoundaryTemps.map((x) => iceBoundary(x) / 1e6 ), // Convert Pa to MPa
            mode: 'lines',
            name: 'Solid-Liquid Boundary',
            "fill":"tonexty",
            "fillcolor":"rgba(0, 144, 200, 0.2)"
          };

          const layout = {
            title: 'Pressure-Temperature Diagram (Water)',
            xaxis: {
              title: 'Temperature (K)',
              range: [T_MIN, T_MAX],
              gridcolor: '#eee'
            },
            yaxis: {
              title: 'Pressure (MPa)',
              type: 'log', // <-- Add this line
              range: (P_MIN, P_MAX), // log10(1) = 0, log10(1000) = 3
              gridcolor: '#eee'
            },
            legend: { x: 0.5, y: 0.2 },
            plot_bgcolor: '#202020',
            paper_bgcolor: '#202020',
            font: { color: '#fff' },
            hovermode: 'closest'
          };
          
          Plotly.newPlot('PTDiagram', [vapourBoundaryLine, sublimationBoundaryLine, iceBoundaryLine], layout, {
            responsive: true,
            displayModeBar: false
          });

        </script>
		</div> 
        </section>
        <!-- Footer -->
        <div class="end">
          <div style="padding: 10px">
            Go back to the <a href="index.html">Homepage</a>.
          </div>
          <ul>
            <li><a href="https://www.linkedin.com/in/luiz-dembicki/"><img src="./images/icons/linkedin.svg" alt="LinkedIn profile" /></a></li>
            <li><a href="https://github.com/luizdembicki"><img src="./images/icons/github.svg" alt="GitHub profile" /></a></li>
            <li><a href="https://www.instagram.com/luiz_dembicki/"><img src="./images/icons/instagram.svg" alt="Instagram profile" /></a></li>
          </ul>
          <p>Luiz Dembicki</p>
          <p>2025</p>
        </div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.poptrox.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			
	</body>
</html>